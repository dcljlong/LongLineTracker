<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Long Line Tracker</title>

<link rel="icon" href="./favicon.ico">

<link rel="stylesheet" href="./style.css">

<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<div class="app-container">
  <nav class="sidebar">
    <div class="sidebar-header">
      <i class="fas fa-hard-hat"></i><span>Long Line Tracker</span>
    </div>
    <ul class="nav-menu">
      <li class="nav-item active" data-page="dashboard"><i class="fas fa-chart-pie"></i>Dashboard</li>
      <li class="nav-item" data-page="calendar"><i class="fas fa-calendar-alt"></i>Calendar</li>
    </ul>
  </nav>

  <main class="main-content">
    <div id="dashboard-page" class="page active">
      <h2>Dashboard</h2>
      <p>This is your dashboard.</p>
    </div>

    <div id="calendar-page" class="page" style="display:none;">
      <h2><i class="fas fa-calendar-alt"></i>Schedule Calendar</h2>
      <div id="calendar"></div>
    </div>
  </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

<script>
document.addEventListener("click", function(e) {
  if (e.target.matches(".nav-item")) {
    document.querySelectorAll(".nav-item").forEach(i=>i.classList.remove("active"));
    document.querySelectorAll(".page").forEach(p=>p.style.display="none");
    e.target.classList.add("active");
    document.getElementById(e.target.getAttribute("data-page") + "-page").style.display="block";
    if (e.target.getAttribute("data-page") === "calendar") {
      startCalendar();
    }
  }
});

function startCalendar() {
  const calEl = document.getElementById("calendar");
  if (!calEl.dataset.init) {
    const cal = new FullCalendar.Calendar(calEl, {
      initialView: "dayGridMonth",
      headerToolbar: { left:"prev,next today", center:"title", right:"dayGridMonth,timeGridWeek,timeGridDay" },
      selectable:true,
      editable:true,
      select(info) {
        const t=prompt("Event title:");
        if(t) cal.addEvent({ title:t, start:info.startStr, end:info.endStr, allDay:info.allDay });
      },
      eventClick(info) {
        if(confirm("Delete?")) info.event.remove();
      }
    });
    cal.render();
    calEl.dataset.init="1";
  }
}
</script>

</body>
</html>
